## singleton 패턴이란?
- 하나의 프로세스에서 자원 공유를 위한 목적의 클래스를 하나 생성하여 해당 클래스로 객체 및 클래스 간의 자원 공유를 하는 패턴이다.

## 상태공유를 위한 상위 맥락
- 만약에 두 클래스 또는 두 인스턴스가 자원을 공유하기 위해서는 두 클래스나 인스턴스를 사용하는 클래스 또는 코드 맥락 또는 그 상위의 맥락에서 전역변수를 통해서 데이터를 공유할 수 있다.

### 왜 객체를 자원 공유의 수단으로 사용하는가?
- 객체란 상태 변화에 의존하는 기능들의 집합이다.
- 객체의 상태 변경은 의미론적인 표현을 갖는 메소드를 통해서 이뤄지며 의미론적인 표현으로 객체를 구성한다면 객체의 의미를 약화시키는 패턴인 멤버의 직접 변경은 하지 않는 편이 좋다.
- 객체 내부의 상태 변화는 외부와는 동떨어진 완전히 독립된 영역을 가지기 때문에 상태 변화의 흐름과 로직을 분석하기 쉽다.
- 전역 변수를 사용해서 자원을 공유할 수 있지만, 저장소로 객체 하나를 선언해서 관리하는 것은 객체가 가진 장점을 활용해서 프로그램의 코드를 좀 더 의미론적으로 만들 수 있다는 장점을 갖는다.

### 왜 클래스가 아닌 객체를 자원 공유의 수단으로 사용하는가?
- 객체지향 코드는 다양한 객체를 선언하여 객체의 다양한 상태 변화를 이용하여 코드를 만들어 가는 것이다.
- 클래스 단독으로 사용하는 것은 객체보다 사용성에서 덜 다양한 기능을 제공한다. 

### 싱글톤 객체의 장점
- [참고](https://stackoverflow.com/questions/519520/difference-between-static-class-and-singleton-pattern)

#### 메모리 사용 최적화
- 라이프 사이클을 조정하여 메모리에 적재된 객체를 가비지 컬렉터로 처리할 수 있게 할 수 있다. 이에 반해 정적 클래스는 가비지 컬렉터로 처리할 수 없다.
- 정적 클래스가 항상 로드 되는 것과 달리, 객체는 필요할 때 로드할 수 있기 때문에 클래스보다는 객체를 사용해서 상태를 저장하면 필요할 때만 메모리를 사용할 수 있는 장점이 있다. 물론 객체를 생성하기 위해 클래스를 사용해야 하지만 상태를 클래스가 아닌 객체에 저장하기 때문에 클래스는 비대해지지 않고 객체의 상태 크기만 늘어난다.

#### 라이프사이클 시점 조정
- 클래스와 달리 객체는 생성 시점과 종료 시점을 설정할 수 있다.

#### 심플한 초기화
- 초기화 할 때 정적 클래스는 클래스 내부의 모든 정적 상태에 대한 초기화 값을 새로 입력 해 줘야 하는 코드를 구현해야 하지만, 객체의 경우 새롭게 인스턴스를 만들어 사용할 수 있으므로 싱글톤 인스턴스를 지우고 다시 인스턴스를 생성하는 방법으로 초기화를 할 수 있다.

#### 크지 않은 속도 차이
- 컴파일 언어에서 정적 클래스는 컴파일 시점에 생성된다. 그에 반해 객체는 런타임 시점에 생성되므로 속도면에서 정적 클래스가 유리하다. 하지만 php의 경우 인터프리터 언어이므로 성능에 있어서 컴파일 언어만큼의 상대적인 속도 차이가 나지 않는다.

#### 인터페이스 활용
- 객체는 인터페이스를 구현할 수 있다. 하지만 정적 메소드는 인터페이스의 대상이 아니기 때문에 정적 클래스에는 인터페이스를 사용할 수 없다. 따라서 싱글톤을 사용하면 인터페이스도 구현하는 방식으로 만들 수 있다.
- 인터페이스를 활용한 태스트 코드를 만들 수 있어 정적 클래스에 비해 태스트 코드를 만들기 쉽다는 장점이 있다.

#### 클래스 확장
- 정적 클래스는 로직을 변경하기 위해서 기존의 코드를 완전 변경해야하지만, 객체는 상속을 통해서 메소드를 재정의 할 수 있는 장점이 있다. 기존의 코드를 건드리지 않고 확장이 가능하기 때문에 싱글톤은 코드 확장의 장점이 존재한다.